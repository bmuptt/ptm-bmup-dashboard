version: '3.8'

services:
  ptm_bmup_dashboard:
    container_name: ptm_bmup_dashboard
    restart: always
    build:
      context: .
      dockerfile: docker/vue/Dockerfile
      args:
        VITE_APP_BACKEND_URL: ${VITE_APP_BACKEND_URL}
        VITE_APP_BACKEND_URL_MASTER: ${VITE_APP_BACKEND_URL_MASTER}
  
  ptm_bmup_dashboard_nginx:
    container_name: ptm_bmup_dashboard_nginx
    restart: always
    build:
      context: .
      dockerfile: docker/nginx/Dockerfile
    ports:
      - "3100:80"
    depends_on:
      - ptm_bmup_dashboard